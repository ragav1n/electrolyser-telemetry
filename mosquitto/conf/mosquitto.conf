per_listener_settings true
listener 8883
protocol mqtt
cafile /mosquitto/certs/ca.crt
certfile /mosquitto/certs/broker.crt
keyfile /mosquitto/certs/broker.key
ciphers TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256
tls_version tlsv1.3
require_certificate true
use_identity_as_username true
allow_anonymous false
password_file /mosquitto/config/pwfile
acl_file /mosquitto/config/aclfile
persistence true
persistence_location /mosquitto/data/
# Hardenings
max_inflight_messages 20
max_queued_messages 1000

